# API Test Page — инструкция для разработчиков

Страница **API Test** предназначена для тестирования различных методов взаимодействия с Supabase.

## Интерфейс

Страница разделена на две панели:

**Левая панель** — содержит поля ввода и кнопки для выполнения запросов.  
**Правая панель** — текстовое поле (`textarea`) только для чтения, куда выводится результат каждого запроса.

### Поля ввода

| Поле           | Тип    | Назначение                                                                    |
| -------------- | ------ | ----------------------------------------------------------------------------- |
| `Display Name` | текст  | Отображаемое имя (используется при регистрации и для обновления имени).       |
| `Email`        | email  | Электронная почта пользователя (обязательна для всех операций, кроме выхода). |
| `Password`     | пароль | Пароль (обязателен для регистрации и входа).                                  |

### Кнопки и их функции

| Кнопка                  | Метод сервиса       | Описание                                                                                                    |
| ----------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------- |
| **Registration**        | `register`          | Регистрирует нового пользователя с указанными email, паролем и display name.                                |
| **Sign In**             | `signIn`            | Выполняет вход с переданными email и паролем. Возвращает данные пользователя и сессию.                      |
| **Sign Out**            | `signOut`           | Завершает текущую сессию пользователя.                                                                      |
| **Get Current User**    | `getSession`        | Получает текущую сессию и отображает информацию о пользователе (если он авторизован).                       |
| **Update Display Name** | `updateDisplayName` | Обновляет display name текущего пользователя на значение из поля `Display Name`. Требуется активная сессия. |
| **Get Session**         | `getSession`        | Возвращает информацию о текущей сессии (пользователь, токены и т.д.).                                       |
| **Reset Password**      | `resetPassword`     | Отправляет на указанный email письмо для сброса пароля.                                                     |

## Поведение при выполнении запроса

1. После нажатия любой кнопки текстовая область справа очищается и в неё выводится текст **Loading...**.
2. Выполняется асинхронный запрос к Supabase через соответствующий метод.
3. По завершении запроса в текстовой области отображается результат:
   - **`Success:`** — если запрос выполнен без ошибок. Далее следует JSON-представление полученных данных.
   - **`Error:`** — если произошла ошибка. Выводится объект ошибки в формате JSON.

> Все поля `textarea` доступны только для чтения, но вы можете копировать из них текст (например, чтобы сохранить токен или идентификатор пользователя).

## Примеры использования

### 1. Регистрация нового пользователя

- Заполните **Email**, **Password** и **Display Name** (опционально).
- Нажмите **Registration**.
- В ответе должны появиться данные пользователя и сессия~~.

### 2. Вход в систему

- Введите **Email** и **Password** уже зарегистрированного пользователя.
- Нажмите **Sign In**.
- При успехе будут показаны данные пользователя и сессия.

### 3. Получение информации о текущем пользователе

- После входа нажмите **Get Current User**.
- Вы увидите данные пользователя (или сообщение, что никто не авторизован).

### 4. Обновление имени

- После входа введите новое значение в поле **Display Name**.
- Нажмите **Update Display Name**.
- Ответ должен содержать обновлённый объект пользователя.

### 5. Проверка полной сессии

- Нажмите **Get Session** — вы увидите текущую сессию (токены, пользователя) или `null`, если пользователь не авторизован.

### 6. Сброс пароля

- Введите **Email** (тот же, что при регистрации).
- Нажмите **Reset Password** — Supabase отправит письмо для сброса.
